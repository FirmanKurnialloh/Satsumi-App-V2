<div id="modal-add-user" class="modal-overlay">
  <div class="modal-card" style="max-width: 400px; text-align: left;">
    <h3 class="modal-title">Tambah User Baru</h3>
    <p class="modal-desc">Password default: <b>123456</b></p>
    <form onsubmit="handleUserSubmit(event)">
      <div class="input-wrapper"><input type="number" id="new-nik" placeholder="NIK" required></div>
      <div class="input-wrapper"><input type="text" id="new-nama" placeholder="Nama Lengkap" required></div>
      <div class="input-wrapper"><input type="email" id="new-email" placeholder="Email" required></div>
      <div class="input-wrapper">
        <select id="new-role" style="width:100%; background:var(--card); border:1px solid var(--border); color:var(--text); padding:14px; border-radius:12px; outline:none;">
          <option value="Admin">Admin</option>
          <option value="Guru">Guru</option>
          <option value="Tendik">Tendik</option>
          <option value="Siswa">Siswa</option>
        </select>
      </div>
      <div class="modal-actions" style="margin-top: 20px; justify-content: flex-end;">
        <button type="button" class="btn btn-cancel" onclick="closeUserModal()">Batal</button>
        <button type="submit" class="btn btn-primary" style="width: auto;">Simpan</button>
      </div>
    </form>
  </div>
</div>

<div id="modal-edit-user" class="modal-overlay">
  <div class="modal-card" style="max-width: 400px; text-align: left;">
    <h3 class="modal-title">Edit Data User</h3>
    <p class="modal-desc">NIK tidak dapat diubah.</p>
    <form onsubmit="handleEditUserSubmit(event)">
      <div class="input-wrapper">
        <label style="font-size:10px; color:var(--sub);">NIK (TETAP)</label>
        <input type="text" id="edit-nik" style="background:var(--input-bg); color:var(--sub); cursor:not-allowed;" readonly>
      </div>
      <div class="input-wrapper"><label style="font-size:10px; color:var(--sub);">NAMA LENGKAP</label><input type="text" id="edit-nama" required></div>
      <div class="input-wrapper"><label style="font-size:10px; color:var(--sub);">EMAIL</label><input type="email" id="edit-email" required></div>
      <div class="input-wrapper">
        <label style="font-size:10px; color:var(--sub);">ROLE</label>
        <select id="edit-role" style="width:100%; background:var(--card); border:1px solid var(--border); color:var(--text); padding:14px; border-radius:12px; outline:none;">
          <option value="Admin">Admin</option>
          <option value="Guru">Guru</option>
          <option value="Tendik">Tendik</option>
          <option value="Siswa">Siswa</option>
        </select>
      </div>
      <div class="modal-actions" style="margin-top: 20px; justify-content: flex-end;">
        <button type="button" class="btn btn-cancel" onclick="closeEditUserModal()">Batal</button>
        <button type="submit" class="btn btn-primary" style="width: auto;">Update</button>
      </div>
    </form>
  </div>
</div>

<div id="modal-reset" class="modal-overlay">
  <div class="modal-card">
    <div style="width: 60px; height: 60px; background: rgba(245, 158, 11, 0.1); border-radius: 50%; display: grid; place-items: center; margin: 0 auto 15px auto;">
      <i class="bi bi-key-fill" style="font-size: 30px; color: #f59e0b;"></i>
    </div>
    <h3 class="modal-title">Reset Password?</h3>
    <p class="modal-desc">Password untuk <b id="reset-target-name" style="color: var(--text);">User</b> akan dikembalikan ke default: <b>123456</b></p>
    <input type="hidden" id="reset-target-nik">
    <div class="modal-actions">
      <button class="btn btn-cancel" onclick="closeResetModal()">Batal</button>
      <button class="btn" style="background: #f59e0b; color: white;" onclick="confirmResetPassword()">Ya, Reset</button>
    </div>
  </div>
</div>

<div id="modal-delete-user" class="modal-overlay">
  <div class="modal-card">
    <div style="width: 60px; height: 60px; background: rgba(239, 68, 68, 0.1); border-radius: 50%; display: grid; place-items: center; margin: 0 auto 15px auto;">
      <i class="bi bi-trash-fill" style="font-size: 30px; color: var(--danger);"></i>
    </div>
    <h3 class="modal-title" style="color: var(--danger);">Hapus Pengguna?</h3>
    <p class="modal-desc">Tindakan ini permanen. User dengan NIK <b id="delete-target-nik-display" style="color: var(--text);">-</b> akan dihapus.</p>
    <input type="hidden" id="delete-target-nik-value">
    <div class="modal-actions">
      <button class="btn btn-cancel" onclick="closeDeleteModal()">Batal</button>
      <button class="btn" style="background: var(--danger); color: white;" onclick="confirmDeleteUser()">Ya, Hapus</button>
    </div>
  </div>
</div>